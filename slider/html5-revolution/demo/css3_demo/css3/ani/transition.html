<!DOCTYPE html>
<html lang="zh-cn">
<head>
<meta charset="utf-8" />
<title>CSS3 Transition</title>
<meta name="description" content="CSS3 text-shadow" />
<meta name="keywords" content="css3,text-shadow,CSS3 text-shadow,文字阴影" />
<meta name="author" content="doyoe(飘零雾雨), dooyoe@gmail.com" />
<!--[if lte IE 8]>
<script src="../../lib/html5.js"></script>
<![endif]-->
<link href="../../skin/reset-grids-comm-min.css" rel="stylesheet" />
<link href="../../skin/layout.css" rel="stylesheet" />
<link href="../../skin/demo.css" rel="stylesheet" />
<style>
.grammar{
	padding:0 20px;
	border:0 none;
	color:#666;
	font-weight:bold;
	font-size:16px;
} 
.panel dl:nth-child(2) dd{
	font-size:20px;
}
#panel1 dl:nth-child(2) dd{
	text-shadow:2px 2px 0 #000;
}
#panel2 dl:nth-child(2) dd{
	text-shadow:1px 1px 5px #000;
}
#panel3 dl:nth-child(2) dd{
	text-shadow:1px 1px #fff,2px 2px 2px rgba(0,0,0,.3);
}
p{text-indent: 2em;}
</style>
</head>
<body class="doc">
<nav id="nav">
	<a href="http://blog.doyoe.com/" title="CSS探索之旅 - 飘零雾雨的庄园">CSS探索之旅</a> &#187;
	<a href="http://demo.doyoe.com/" title="Web前端实验室">Web前端实验室</a> &#187;
	CSS3 transition
</nav>

<article id="content">
	<h1 class="title">CSS3 transition:</h1>
<p class="browser">
    <a href="http://www.w3.org" target="_blank">W3C</a>标准中对
    <a href="http://www.w3.org/TR/css3-roadmap/" target="_blank">css3</a>的
    <a href="http://www.w3.org/TR/css3-transitions/" target="_blank">transition</a>这是样描述的：“css的
    <a href="http://www.w3.org/TR/css3-transitions/" target="_blank">transition</a>允许css的属性值在一定的时间区间内平滑地过渡。这种效果可以在鼠标单击、获得焦点、被点击或对元素任何改变中触发，并圆滑地以动画效果改变CSS的属性值。”</p>
<h2 class="subtitle">语法：</h2>
<pre class="grammar">transition ： [&lt;'transition-property'&gt; || &lt;'transition-duration'&gt;
    || &lt;'transition-timing-function'&gt; || &lt;'transition-delay'&gt; [,
    [&lt;'transition-property'&gt; || &lt;'transition-duration'&gt; || &lt;'transition-timing-function'&gt;
    || &lt;'transition-delay'&gt;]]*</pre>
<p>&nbsp;</p>
<p>transition主要包含四个属性值：执行变换的属性：transition-property,变换延续的时间：transition-duration,在延续时间段，变换的速率变化transition-timing-function,变换延迟时间transition-delay。下面分别来看这四个属性值</p>
<h2 class="subtitle">一、transition-property:</h2>
<h3 class="">语法</h3>
<pre class="grammar">transition-property ： none | all | [ &lt;IDENT&gt; ] [ ',' &lt;IDENT&gt;  ]*</pre>
<p>&nbsp;</p>
<p>transition-property是用来指定当元素其中一个属性改变时执行transition效果，其主要有以下几个值：none(没有属性改变)；all（所有属性改变）这个也是其默认值；indent（元素属性名）。当其值为none时，transition马上停止执行，当指定为all时，则元素产生任何属性值变化时都将执行transition效果，ident是可以指定元素的某一个属性值。其对应的类型如下：</p>
<p>1、color: 通过红、绿、蓝和透明度组件变换（每个数值处理）如：background-color,border-color,color,outline-color等css属性；</p>
<p>2、length: 真实的数字 如：word-spacing,width,vertical-align,top,right,bottom,left,padding,outline-width,margin,min-width,min-height,max-width,max-height,line-height,height,border-width,border-spacing,background-position等属性；</p>
<p>3、percentage:真实的数字 如：word-spacing,width,vertical-align,top,right,bottom,left,min-width,min-height,max-width,max-height,line-height,height,background-position等属性；</p>
<p>4、integer离散步骤（整个数字），在真实的数字空间，以及使用floor()转换为整数时发生 如：outline-offset,z-index等属性；</p>
<p>5、number真实的（浮点型）数值，如：zoom,opacity,font-weight,等属性；</p>
<p>6、transform list:详情请参阅：《
    <a href="http://www.w3cplus.com/content/css3-transform"
    target="_blank">CSS3 Transform</a>》</p>
<p>7、rectangle:通过x, y, width 和 height（转为数值）变换，如：crop</p>
<p>8、visibility: 离散步骤，在0到1数字范围之内，0表示“隐藏”，1表示完全“显示”,如：visibility</p>
<p>9、shadow: 作用于color, x, y 和 blur（模糊）属性,如：text-shadow</p>
<p>10、gradient: 通过每次停止时的位置和颜色进行变化。它们必须有相同的类型（放射状的或是线性的）和相同的停止数值以便执行动画,如：background-image</p>
<p>11、paint server (SVG): 只支持下面的情况：从gradient到gradient以及color到color，然后工作与上面类似</p>
<p>12、space-separated list of above:如果列表有相同的项目数值，则列表每一项按照上面的规则进行变化，否则无变化</p>
<p>13、a shorthand property: 如果缩写的所有部分都可以实现动画，则会像所有单个属性变化一样变化</p>
<p>具体什么css属性可以实现transition效果，在W3C官网中列出了所有可以实现transition效果的CSS属性值以及值的类型，大家可以点
    <a
    href="http://www.w3.org/TR/css3-transitions/#properties-from-css-" target="_blank">这里</a>了解详情。这里需要提醒一点是，并不是什么属性改变都为触发transition动作效果，比如页面的自适应宽度，当浏览器改变宽度时，并不会触发transition的效果。但上述表格所示的属性类型改变都会触发一个transition动作效果。</p>
<h2 class="subtitle">二、transition-duration:</h2>
<h3>语法：</h3>
<pre class="grammar">transition-duration ： &lt;time&gt; [, &lt;time&gt;]*</pre>
<p>&nbsp;</p>
<p>transition-duration是用来指定元素 转换过程的持续时间，取值：&lt;time&gt;为数值，单位为s（秒）,可以作用于所有元素，包括:before和:after伪元素。其默认值是0，也就是变换时是即时的。</p>
<h2 class="subtitle">三、transition-timing-function:</h2>
<h3>语法：</h3>
<pre class="grammar">transition-timing-function ： ease | linear | ease-in | ease-out | ease-in-out
    | cubic-bezier(&lt;number&gt;, &lt;number&gt;, &lt;number&gt;, &lt;number&gt;)
    [, ease | linear | ease-in | ease-out | ease-in-out | cubic-bezier(&lt;number&gt;,
    &lt;number&gt;, &lt;number&gt;, &lt;number&gt;)]*</pre>
<p>&nbsp;</p>
<h3>取值：</h3>
<p>transition-timing-function的值允许你根据时间的推进去改变属性值的变换速率，transition-timing-function有6个可能值：</p>
<p>1、ease：（逐渐变慢）默认值，ease函数等同于贝塞尔曲线(0.25, 0.1, 0.25, 1.0).</p>
<p>2、linear：（匀速），linear 函数等同于贝塞尔曲线(0.0, 0.0, 1.0, 1.0).</p>
<p>3、ease-in：(加速)，ease-in 函数等同于贝塞尔曲线(0.42, 0, 1.0, 1.0).</p>
<p>4、ease-out：（减速），ease-out 函数等同于贝塞尔曲线(0, 0, 0.58, 1.0).</p>
<p>5、ease-in-out：（加速然后减速），ease-in-out 函数等同于贝塞尔曲线(0.42, 0, 0.58, 1.0)</p>
<p>6、cubic-bezier：（该值允许你去自定义一个时间曲线）， 特定的
    <a href="http://en.wikipedia.org/wiki/B%C3%A9zier_curve" target="_blank">cubic-bezier曲线</a>。
    (x1, y1, x2, y2)四个值特定于曲线上点P1和点P2。所有值需在[0, 1]区域内，否则无效。</p>
<p>其是cubic-bezier为通过贝赛尔曲线来计算“转换”过程中的属性值，如下曲线所示，通过改变P1(x1, y1)和P2(x2, y2)的坐标可以改变整个过程的Output
    Percentage。初始默认值为default.</p>
<p>
    <img alt="" src="index/cubic-bezier.png"
    style="width: 441px; height: 335px;">
</p>
<p>其他几个属性的示意图：</p>
<p>
    <img alt="" src="index/transition-timing-function.png"
    style="width: 500px; height: 171px;">
</p>
<h2 class="subtitle">四、transition-delay:</h2>
<h3>语法：</h3>
<pre>transition-delay ： &lt;time&gt; [, &lt;time&gt;]*</pre>
<p>&nbsp;</p>
<p>transition-delay是用来指定一个动画开始执行的时间，也就是说当改变元素属性值后多长时间开始执行transition效果，其取值：&lt;time&gt;为数值，单位为s（秒），其使用和transition-duration极其相似，也可以作用于所有元素，包括:before和:after伪元素。
    默认大小是"0"，也就是变换立即执行，没有延迟。</p>
<p>有时我们不只改变一个css效果的属性,而是想改变两个或者多个css属性的transition效果，那么我们只要把几个transition的声明串在一起，用逗号（“，”）隔开，然后各自可以有各自不同的延续时间和其时间的速率变换方式。但需要值得注意的一点：transition-delay与transition-duration的值都是时间，所以要区分它们在连写中的位置，一般浏览器会根据先后顺序决定，第一个可以解析为时间的怭值为transition-duration第二个为transition-delay。如：</p>
<pre class="grammar">a { -moz-transition: background 0.5s ease-in,color 0.3s ease-out; -webkit-transition:
    background 0.5s ease-in,color 0.3s ease-out; -o-transition: background
    0.5s ease-in,color 0.3s ease-out; transition: background 0.5s ease-in,color
    0.3s ease-out; }</pre>
<p>&nbsp;</p>
<p>如果你想给元素执行所有transition效果的属性，那么我们还可以利用all属性值来操作，此时他们共享同样的延续时间以及速率变换方式，如：</p>
<pre class="grammar">a { -moz-transition: all 0.5s ease-in; -webkit-transition: all 0.5s ease-in;
    -o-transition: all 0.5s ease-in; transition: all 0.5s ease-in; }</pre>
<p>&nbsp;</p>
<p>综合上述我们可以给
    <strong>transition一个速记法：transition: &lt;property&gt;&nbsp;&lt;duration&gt;&nbsp;&lt;animation
        type&gt;&nbsp;&lt;delay&gt;</strong>如下图所示：</p>
<p>
    <img alt="" src="index/transition-suji.png"
    style="width: 500px; height: 160px;">
</p>
<p>相对应的一个示例代码：</p>
<pre class="grammar">p { -webkit-transition: all .5s ease-in-out 1s; -o-transition: all .5s
    ease-in-out 1s; -moz-transition: all .5s ease-in-out 1s; transition: all
    .5s ease-in-out 1s; }</pre>
<p>&nbsp;</p>
<h3>浏览器的兼容性:</h3>
</p>
<p>
    <img alt="" src="index/transition-browers.png"
    style="width: 500px; height: 143px;">
</p>
<p>因为transition最早是有由webkit内核浏览器提出来的，mozilla和opera都是最近版本才支持这个属性，而我们的大众型浏览器IE全家都是不支持，另外由于各大现代浏览器Firefox,Safari,Chrome,Opera都还不支持W3C的标准写法，所以在应用transition时我们有必要加上各自的前缀，最好在放上我们W3C的标准写法，这样标准的会覆盖前面的写法，只要浏览器支持我们的transition属性，那么这种效果就会自动加上去：</p>
<pre class="grammar">//Mozilla内核 -moz-transition ： [&lt;'transition-property'&gt; || &lt;'transition-duration'&gt;
    || &lt;'transition-timing-function'&gt; || &lt;'transition-delay'&gt; [,
    [&lt;'transition-property'&gt; || &lt;'transition-duration'&gt; || &lt;'transition-timing-function'&gt;
    || &lt;'transition-delay'&gt;]]* //Webkit内核 -webkit-transition ： [&lt;'transition-property'&gt;
    || &lt;'transition-duration'&gt; || &lt;'transition-timing-function'&gt;
    || &lt;'transition-delay'&gt; [, [&lt;'transition-property'&gt; || &lt;'transition-duration'&gt;
    || &lt;'transition-timing-function'&gt; || &lt;'transition-delay'&gt;]]*
    //Opera -o-transition ： [&lt;'transition-property'&gt; || &lt;'transition-duration'&gt;
    || &lt;'transition-timing-function'&gt; || &lt;'transition-delay'&gt; [,
    [&lt;'transition-property'&gt; || &lt;'transition-duration'&gt; || &lt;'transition-timing-function'&gt;
    || &lt;'transition-delay'&gt;]]* //W3C 标准 transition ： [&lt;'transition-property'&gt;
    || &lt;'transition-duration'&gt; || &lt;'transition-timing-function'&gt;
    || &lt;'transition-delay'&gt; [, [&lt;'transition-property'&gt; || &lt;'transition-duration'&gt;
    || &lt;'transition-timing-function'&gt; || &lt;'transition-delay'&gt;]]*</pre>
<p>&nbsp;</p>
<h3>Transition何时能够生效？</h3>
<p>不是所有的情况下transition都能够生效的，下面列举了transition所生效的时机和属性(加粗的比较常用)</p>
<table border="0" cellpadding="5" style="margin:4em;"><tbody>
<tr>         <td><strong>CSS属性</strong></td>         <td><strong>改变的对象</strong></td>       </tr>
<tr>         <td><strong>background-color</strong></td>         <td><strong>色彩</strong></td>       </tr>
<tr>         <td>background-image</td>         <td>只是渐变</td>       </tr>
<tr>         <td>background-position</td>         <td>百分比，长度</td>       </tr>
<tr>         <td>border-bottom-color</td>         <td>色彩</td>       </tr>
<tr>         <td>border-bottom-width</td>         <td>长度</td>       </tr>
<tr>         <td><strong>border-color</strong></td>         <td><strong>色彩</strong></td>       </tr>
<tr>         <td>border-left-color</td>         <td>色彩</td>       </tr>
<tr>         <td>border-left-width</td>         <td>长度</td>       </tr>
<tr>         <td>border-right-color</td>         <td>色彩</td>       </tr>
<tr>         <td>border-right-width</td>         <td>长度</td>       </tr>
<tr>         <td>border-spacing</td>         <td>长度</td>       </tr>
<tr>         <td>border-top-color</td>         <td>色彩</td>       </tr>
<tr>         <td>border-top-width</td>         <td>长度</td>       </tr>
<tr>         <td>border-width</td>         <td>长度</td>       </tr>
<tr>         <td><strong>bottom</strong></td>         <td><strong>百分比，长度</strong></td>       </tr>
<tr>         <td><strong>color</strong></td>         <td><strong>色彩</strong></td>       </tr>
<tr>         <td>crop</td>         <td>百分比</td>       </tr>
<tr>         <td><strong>font-size</strong></td>         <td><strong>百分比，长度</strong></td>       </tr>
<tr>         <td><strong>font-weight</strong></td>         <td><strong>数字</strong></td>       </tr>
<tr>         <td>grid-*</td>         <td>数量</td>       </tr>
<tr>         <td><strong>height</strong></td>         <td><strong>百分比，长度</strong></td>       </tr>
<tr>         <td><strong>left</strong></td>         <td><strong>百分比，长度</strong></td>       </tr>
<tr>         <td><strong>letter-spacing</strong></td>         <td><strong>长度</strong></td>       </tr>
<tr>         <td>line-height</td>         <td>百分比，长度，数字</td>       </tr>
<tr>         <td>margin-bottom</td>         <td>长度</td>       </tr>
<tr>         <td>margin-left</td>         <td>长度</td>       </tr>
<tr>         <td>margin-right</td>         <td>长度</td>       </tr>
<tr>         <td>margin-top</td>         <td>长度</td>       </tr>
<tr>         <td>max-height</td>         <td>百分比，长度</td>       </tr>
<tr>         <td>max-width</td>         <td>百分比，长度</td>       </tr>
<tr>         <td>min-height</td>         <td>百分比，长度</td>       </tr>
<tr>         <td>min-width</td>         <td>百分比，长度</td>       </tr>
<tr>         <td><strong>opacity</strong></td>         <td><strong>数字</strong></td>       </tr>
<tr>         <td>outline-color</td>         <td>色彩</td>       </tr>
<tr>         <td>outline-offset</td>         <td>整数</td>       </tr>
<tr>         <td>outline-width</td>         <td>长度</td>       </tr>
<tr>         <td>padding-bottom</td>         <td>长度</td>       </tr>
<tr>         <td>padding-left</td>         <td>长度</td>       </tr>
<tr>         <td>padding-right</td>         <td>长度</td>       </tr>
<tr>         <td>padding-top</td>         <td>长度</td>       </tr>
<tr>         <td><strong>right</strong></td>         <td><strong>百分比，长度</strong></td>       </tr>
<tr>         <td>text-indent</td>         <td>百分比，长度</td>       </tr>
<tr>         <td><strong>text-shadow</strong></td>         <td><strong>阴影</strong></td>       </tr>
<tr>         <td><strong>top</strong></td>         <td><strong>百分比，长度</strong></td>       </tr>
<tr>         <td>vertical-align</td>         <td>百分比，长度，关键词</td>       </tr>
<tr>         <td>visibility</td>         <td>可见性</td>       </tr>
<tr>         <td><strong>width</strong></td>         <td><strong>百分比，长度</strong></td>       </tr>
<tr>         <td>word-spacing</td>         <td>百分比，长度</td>       </tr>
<tr>         <td>z-index</td>         <td>正整数</td>       </tr>
<tr>         <td>zoom</td>         <td>数字</td>       </tr>
</tbody>   </table>
</article>

<p class="copyright">&copy; Copyright <a href="http://www.doyoe.com/" title="飘雨社区">Doyoe.com</a></p>
<a id="sources" href="http://blog.doyoe.com/" title="前往 CSS探索之旅">CSS探索之旅</a>
<script src="../../lib/coderinder.js"></script>
</body>
</html>